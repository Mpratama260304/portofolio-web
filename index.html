<!DOCTYPE html>
<html lang="id" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mochamad Pratama Mukti — CV &amp; Portofolio</title>
  <meta name="description" content="Curriculum Vitae & Portofolio Mochamad Pratama Mukti — Multimedia, Digital Marketing, Desain Grafis." />
  <link rel="icon" href="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/fantasy-arcane-cv-favicon-512.png" type="image/png">
  <link rel="shortcut icon" href="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/fantasy-arcane-cv-favicon-512.png" type="image/png">
  <link rel="apple-touch-icon" href="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/fantasy-arcane-cv-favicon-512.png">
  <meta name="theme-color" content="#0b1220">

  <meta property="og:title" content="Mochamad Pratama Mukti — Curriculum Vitae" />
  <meta property="og:description" content="CV dan portofolio bertema fantasy arcane." />
  <meta property="og:image" content="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/fantasy-arcane-cv-favicon-512.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Mochamad Pratama Mukti — Curriculum Vitae" />
  <meta name="twitter:description" content="CV dan portofolio bertema fantasy arcane." />
  <meta name="twitter:image" content="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/fantasy-arcane-cv-favicon-512.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Cinzel:wght@400;600;700&display=swap" rel="stylesheet" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    try {
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { poppins: ['Poppins','sans-serif'], cinzel: ['Cinzel','serif'] },
            colors: {
              cv: { blue:'#1e3a5f', blueDark:'#0d1b2a', blueLight:'#2a5080', accent:'#7eb8e3', gold:'#d4a843', violet:'#6c3fa0', rose:'#a04070' }
            }
          }
        }
      };
    } catch(e) {}
  </script>

  <!-- Three.js for 3D Book Viewer -->
  <script async src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"></script>
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
      }
    }
  </script>

  <!-- html2canvas for Screenshot -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; max-width: 100%; overflow-x: hidden; }
    body {
      font-family: 'Poppins', sans-serif;
      color: #e0dce8; overflow-x: hidden; margin: 0;
      max-width: 100%;
      background:
        radial-gradient(ellipse at 20% 0%, rgba(108,63,160,0.35) 0%, transparent 55%),
        radial-gradient(ellipse at 80% 20%, rgba(30,58,95,0.5) 0%, transparent 50%),
        radial-gradient(ellipse at 60% 80%, rgba(160,64,112,0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 10% 90%, rgba(30,58,95,0.4) 0%, transparent 50%),
        linear-gradient(180deg, #0a0e1a 0%, #0d1b2a 40%, #121530 70%, #0a0e1a 100%);
      background-attachment: fixed; min-height: 100vh;
    }
    img, svg, canvas, video { max-width: 100%; height: auto; }

    #world-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }
    #world-bg .layer { position: absolute; inset: 0; will-change: transform; }
    #star-canvas { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
    #magic-canvas { position: fixed; inset: 0; z-index: 2; pointer-events: none; }
    .cv-wrapper {
      position: relative; z-index: 10;
      max-width: 1140px; margin: 0 auto;
      width: 100%;
      overflow-wrap: anywhere;
      word-break: break-word;
    }
    aside, main, section, div, footer, header { display: block; }

    .fade-in { opacity: 1; transform: none; }
    .fade-in.visible { animation: fadeUp 0.7s ease both; }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(18px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .glass-sidebar {
      background: rgba(13,27,42,0.65);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      border-right: 1px solid rgba(126,184,227,0.12);
    }
    .glass-panel {
      background: rgba(255,255,255,0.04);
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
      border: 1px solid rgba(126,184,227,0.1); border-radius: 18px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    .glass-panel:hover {
      border-color: rgba(126,184,227,0.25);
      box-shadow: 0 4px 30px rgba(108,63,160,0.15);
    }
    .glass-content {
      background: rgba(10,14,26,0.55);
      backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
      border: 1px solid rgba(126,184,227,0.08);
    }

    .arcane-frame { position: relative; }
    .arcane-frame::before, .arcane-frame::after {
      content: ''; position: absolute; pointer-events: none; border-radius: 8px;
    }
    .arcane-frame::before {
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      background: linear-gradient(135deg, rgba(212,168,67,0.15), rgba(108,63,160,0.2), rgba(126,184,227,0.15), rgba(212,168,67,0.1));
      z-index: -1; opacity: 0.6;
    }
    .arcane-frame::after {
      top: -6px; left: -6px; right: -6px; bottom: -6px;
      border: 1px solid rgba(212,168,67,0.08); z-index: -2;
    }

    .skill-track {
      height: 8px; border-radius: 4px;
      background: rgba(255,255,255,0.08); overflow: hidden; position: relative;
    }
    .skill-fill {
      height: 100%; border-radius: 4px;
      background: linear-gradient(90deg, #6c3fa0, #7eb8e3, #d4a843);
      background-size: 200% 100%;
      transition: width 1.2s ease; position: relative;
    }
    .skill-fill::after {
      content: '✦'; position: absolute; right: -2px; top: 50%;
      transform: translateY(-50%); font-size: 10px; color: #d4a843;
      text-shadow: 0 0 6px rgba(212,168,67,0.8);
    }
    .skill-row:hover .skill-fill { animation: shimmer 1.5s ease infinite; }
    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    .skill-fill.bar-animate { width: 0 !important; }
    .skill-fill.bar-animated { transition: width 1.2s ease; }

    .timeline { position: relative; padding-left: 36px; }
    .timeline::before {
      content: ''; position: absolute;
      left: 13px; top: 8px; bottom: 8px; width: 2px;
      background: linear-gradient(180deg, rgba(126,184,227,0.4), rgba(108,63,160,0.3), rgba(126,184,227,0.1));
    }
    .timeline-item { position: relative; margin-bottom: 2rem; }
    .timeline-dot {
      position: absolute; left: -36px; top: 4px;
      width: 24px; height: 24px; border-radius: 50%;
      background: rgba(13,27,42,0.8); border: 2px solid rgba(126,184,227,0.5);
      z-index: 2; transition: all 0.4s ease;
      display: flex; align-items: center; justify-content: center;
    }
    .timeline-dot::after {
      content: ''; width: 8px; height: 8px; border-radius: 50%;
      background: #7eb8e3; box-shadow: 0 0 8px rgba(126,184,227,0.6);
      transition: all 0.4s ease;
    }
    .timeline-item:hover .timeline-dot {
      border-color: #d4a843;
      box-shadow: 0 0 20px rgba(212,168,67,0.4), 0 0 40px rgba(108,63,160,0.2);
      transform: scale(1.15);
    }
    .timeline-item:hover .timeline-dot::after {
      background: #d4a843; box-shadow: 0 0 12px rgba(212,168,67,0.8);
    }

    .lang-bar-track {
      width: 44px; height: 90px;
      background: rgba(255,255,255,0.06);
      border-radius: 8px; position: relative; overflow: hidden;
      border: 1px solid rgba(126,184,227,0.1);
    }
    .lang-bar-fill {
      position: absolute; bottom: 0; left: 0; width: 100%;
      border-radius: 8px;
      background: linear-gradient(0deg, #6c3fa0, #7eb8e3);
      transition: height 1.4s ease;
      box-shadow: 0 -4px 15px rgba(126,184,227,0.3);
    }
    .lang-bar-fill.bar-animate { height: 0 !important; }
    .lang-bar-fill.bar-animated { transition: height 1.4s ease; }

    .hobby-icon { 
      transition: transform 0.3s ease, color 0.3s ease, filter 0.3s ease;
      cursor: pointer;
    }
    .hobby-icon:hover {
      transform: scale(1.25) translateY(-2px); color: #d4a843;
      filter: drop-shadow(0 0 8px rgba(212,168,67,0.5));
    }
    .hobby-icon.playing {
      color: #4ade80 !important;
      filter: drop-shadow(0 0 12px rgba(74,222,128,0.7));
      animation: pulse-glow 1.5s ease-in-out infinite;
    }
    @keyframes pulse-glow {
      0%, 100% { filter: drop-shadow(0 0 8px rgba(74,222,128,0.5)); }
      50% { filter: drop-shadow(0 0 16px rgba(74,222,128,0.9)); }
    }

    .header-glow {
      position: absolute; bottom: 0; left: 0; right: 0; height: 2px;
      background: linear-gradient(90deg, transparent, rgba(212,168,67,0.5), rgba(126,184,227,0.5), rgba(108,63,160,0.5), transparent);
    }

    .info-table td {
      overflow-wrap: anywhere;
      word-break: break-word;
    }
    .info-table tr {
      border-bottom: 1px solid rgba(126,184,227,0.06);
      transition: background 0.3s ease;
    }
    .info-table tr:hover { background: rgba(126,184,227,0.04); }

    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #0a0e1a; }
    ::-webkit-scrollbar-thumb { background: #6c3fa0; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #7eb8e3; }

    /* Modal Styles */
    .modal-overlay {
      position: fixed; inset: 0; z-index: 1000;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
      display: flex; align-items: center; justify-content: center;
      opacity: 0; visibility: hidden;
      transition: all 0.3s ease;
    }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-panel {
      background: rgba(13,27,42,0.95);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(126,184,227,0.2);
      border-radius: 20px;
      padding: 24px;
      max-width: 90vw; max-height: 90vh;
      position: relative;
      box-shadow: 0 8px 60px rgba(108,63,160,0.4), 0 2px 20px rgba(0,0,0,0.5);
      transform: scale(0.9); transition: transform 0.3s ease;
    }
    .modal-overlay.active .modal-panel { transform: scale(1); }
    .modal-close {
      position: absolute; top: 12px; right: 12px;
      width: 36px; height: 36px; border-radius: 50%;
      background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1);
      color: #fff; font-size: 20px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.3s ease; z-index: 10;
    }
    .modal-close:hover { background: rgba(212,168,67,0.3); border-color: #d4a843; }
    .modal-title {
      font-family: 'Cinzel', serif;
      font-size: 1.25rem; font-weight: 700;
      color: #d4a843; margin-bottom: 16px;
      letter-spacing: 0.1em; text-align: center;
    }

    /* Toast Styles */
    .toast-container {
      position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
      z-index: 2000; display: flex; flex-direction: column; gap: 8px;
    }
    .toast {
      background: rgba(13,27,42,0.95);
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(126,184,227,0.3);
      border-radius: 12px; padding: 12px 24px;
      color: #fff; font-size: 14px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      animation: toastIn 0.3s ease forwards;
    }
    .toast.hide { animation: toastOut 0.3s ease forwards; }
    @keyframes toastIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes toastOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(20px); } }

    /* Screenshot Flash */
    .screenshot-flash {
      position: fixed; inset: 0; z-index: 3000;
      background: #fff; opacity: 0; pointer-events: none;
    }
    .screenshot-flash.active {
      animation: flash 0.15s ease;
    }
    @keyframes flash { 0% { opacity: 0.8; } 100% { opacity: 0; } }

    /* Volume Popup */
    .volume-popup {
      position: absolute; bottom: 100%; left: 50%;
      transform: translateX(-50%); margin-bottom: 8px;
      background: rgba(13,27,42,0.95);
      border: 1px solid rgba(126,184,227,0.3);
      border-radius: 10px; padding: 12px;
      display: none; flex-direction: column; align-items: center; gap: 8px;
    }
    .volume-popup.active { display: flex; }
    .volume-slider {
      -webkit-appearance: none; width: 80px; height: 6px;
      border-radius: 3px; background: rgba(255,255,255,0.2);
      outline: none;
    }
    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none; width: 14px; height: 14px;
      border-radius: 50%; background: #d4a843; cursor: pointer;
    }
    .volume-label { font-size: 10px; color: rgba(255,255,255,0.6); }

    /* Snake Game Styles */
    #snake-canvas { background: #0a0e1a; border-radius: 8px; border: 2px solid rgba(126,184,227,0.3); }
    .game-controls { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-top: 12px; }
    .game-btn {
      width: 50px; height: 50px; border-radius: 12px;
      background: rgba(255,255,255,0.1); border: 1px solid rgba(126,184,227,0.2);
      color: #fff; font-size: 18px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s ease;
    }
    .game-btn:hover, .game-btn:active { background: rgba(212,168,67,0.3); border-color: #d4a843; }
    .game-score { font-size: 18px; color: #d4a843; font-weight: 600; text-align: center; margin-bottom: 12px; }
    .game-over-text { color: #ef4444; font-weight: 600; }

    /* 3D Viewer */
    #book-viewer { width: 100%; height: 400px; border-radius: 12px; overflow: hidden; background: #0a0e1a; }
    #book-viewer canvas { width: 100% !important; height: 100% !important; max-width: 100%; }

    /* ===== ENHANCED PRINT / PDF STYLES ===== */
    @media print {
      @page { size: A4; margin: 12mm; }
      html, body { background: #fff !important; color: #333 !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
      #world-bg, #star-canvas, #magic-canvas, .modal-overlay, .toast-container, .volume-popup { display: none !important; }
      .header-btn-group { display: none !important; }
      .cv-wrapper { box-shadow: none !important; border-radius: 0 !important; margin: 0 !important; max-width: 100% !important; }
      .cv-main-layout { display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; }
      .cv-main-layout > aside { width: 33% !important; min-width: 33% !important; max-width: 33% !important; flex-shrink: 0 !important; }
      .cv-main-layout > main { width: 67% !important; min-width: 67% !important; max-width: 67% !important; }
      .glass-panel, .glass-content { background: #fff !important; border: 1px solid #ddd !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
      .glass-sidebar { background: #1e3a5f !important; color: #fff !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
      .fade-in { opacity: 1 !important; transform: none !important; animation: none !important; }
      .header-glow { display: none !important; }
      .timeline-item, .glass-panel, section { page-break-inside: avoid; }
    }

    /* ===== EXPORT MATCH (dark theme screenshot, matches website UI) ===== */
    .export-match {
      background: transparent !important;
      color: inherit !important;
    }
    .export-match * {
      filter: none !important;
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }
    .export-match .arcane-frame::before,
    .export-match .arcane-frame::after {
      opacity: 0.25 !important;
    }
    .export-match .glass-panel {
      background: rgba(255,255,255,0.06) !important;
      box-shadow: 0 1px 6px rgba(0,0,0,0.25) !important;
      border-color: rgba(126,184,227,0.15) !important;
    }
    .export-match .glass-content {
      background: rgba(10,14,26,0.72) !important;
      border-color: rgba(126,184,227,0.1) !important;
    }
    .export-match .glass-sidebar {
      background: rgba(13,27,42,0.82) !important;
      border-right: 1px solid rgba(126,184,227,0.12) !important;
    }
    /* Brighten main content text */
    .export-match main td,
    .export-match main li span,
    .export-match main p,
    .export-match main span {
      color: rgba(255,255,255,0.92) !important;
    }
    .export-match .info-table td:first-child {
      color: rgba(255,255,255,0.60) !important;
    }
    .export-match a {
      color: #9bd6ff !important;
    }
    .export-match header a {
      color: #ffffff !important;
    }
    /* Sidebar text bright */
    .export-match .glass-sidebar span,
    .export-match .glass-sidebar li span,
    .export-match .glass-sidebar a {
      color: rgba(255,255,255,0.85) !important;
    }
    .export-match .glass-sidebar h3 {
      color: #d4a843 !important;
    }
    .export-match .glass-sidebar .hobby-icon {
      color: rgba(255,255,255,0.45) !important;
    }
    /* Stabilize animations */
    .export-match .fade-in,
    .export-match .fade-in.visible {
      animation: none !important;
      transform: none !important;
      opacity: 1 !important;
    }
    .export-match .skill-fill {
      animation: none !important;
    }
    .export-match .timeline-item:hover .timeline-dot {
      transform: none !important;
      box-shadow: none !important;
    }
    .export-match .header-glow {
      display: none !important;
    }
    .export-match .skill-track {
      background: rgba(255,255,255,0.10) !important;
    }
    .export-match .lang-bar-track {
      background: rgba(255,255,255,0.08) !important;
    }
    .export-match footer {
      background: rgba(10,14,26,0.75) !important;
    }
    .export-match footer p {
      color: rgba(255,255,255,0.65) !important;
    }

    @media (max-width: 767px) {
      #magic-canvas { display: none; }
      .glass-sidebar, .glass-content { backdrop-filter: blur(10px); }
      #book-viewer { height: 280px; }
      .header-logo { width: 24px !important; height: 24px !important; }

      /* Stack layout */
      .cv-main-layout {
        flex-direction: column !important;
        min-height: auto !important;
      }
      .cv-main-layout > aside {
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
      }
      .cv-main-layout > main {
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
      }

      /* Wrapper spacing */
      .cv-wrapper {
        margin: 8px !important;
        border-radius: 16px !important;
      }

      /* Header responsive */
      header h1,
      header [style*="font-size:1.75rem"] {
        font-size: clamp(1rem, 4.5vw, 1.75rem) !important;
        letter-spacing: 0.08em !important;
      }
      .header-btn-group {
        width: 100%;
        justify-content: center !important;
      }
      .header-btn-group a {
        font-size: 11px !important;
        padding: 6px 12px !important;
      }
      header .relative.z-10 {
        padding: 16px 12px !important;
        gap: 8px !important;
      }

      /* Profile photo smaller */
      .cv-main-layout aside .rounded-full[style*="width:144px"] {
        width: 110px !important;
        height: 110px !important;
      }

      /* Sidebar padding */
      .glass-sidebar .px-6 {
        padding-left: 16px !important;
        padding-right: 16px !important;
      }
      .glass-sidebar .pt-10 {
        padding-top: 24px !important;
      }

      /* Main content padding */
      .glass-content .p-6,
      .glass-content .sm\:p-8,
      .glass-content .lg\:p-10 {
        padding: 16px !important;
      }

      /* Section heading */
      .glass-content h2[style*="font-size:1.1rem"] {
        font-size: 0.95rem !important;
        letter-spacing: 0.12em !important;
        flex-wrap: wrap;
      }

      /* Info table stacked on small screens */
      .info-table,
      .info-table tbody,
      .info-table tr,
      .info-table td {
        display: block !important;
        width: 100% !important;
      }
      .info-table tr {
        padding: 8px 0 !important;
        margin-bottom: 4px !important;
      }
      .info-table td {
        padding: 2px 0 !important;
      }
      .info-table td:first-child {
        font-size: 11px !important;
        margin-bottom: 2px !important;
      }

      /* Timeline padding */
      .timeline {
        padding-left: 28px !important;
      }
      .timeline-dot {
        left: -28px !important;
        width: 20px !important;
        height: 20px !important;
      }
      .timeline::before {
        left: 9px !important;
      }
      .glass-panel {
        padding: 14px !important;
      }

      /* Date badges inside timeline */
      .timeline-item .flex.flex-col span[style*="border-radius:9999px"] {
        font-size: 10px !important;
        padding: 2px 8px !important;
        white-space: nowrap;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Footer */
      footer {
        padding: 12px 16px !important;
      }
      footer p {
        font-size: 11px !important;
      }

      /* Modal */
      .modal-panel {
        max-width: 95vw !important;
        width: 95vw !important;
        padding: 16px !important;
        border-radius: 16px !important;
      }

      /* Snake game */
      #snake-canvas {
        max-width: 280px;
        max-height: 280px;
      }
      .game-btn {
        width: 44px !important;
        height: 44px !important;
      }

      /* Volume popup */
      .volume-popup {
        left: auto !important;
        right: -8px;
        transform: none !important;
      }

      /* Hobby icons */
      .hobby-icon svg {
        width: 22px !important;
        height: 22px !important;
      }
    }

    /* Extra small phones */
    @media (max-width: 374px) {
      header h1,
      header [style*="font-size:1.75rem"] {
        font-size: 0.9rem !important;
      }
      .header-btn-group a span,
      .header-btn-group a:not([style*="WhatsApp"]) {
        font-size: 10px !important;
      }
      .glass-content .p-6 {
        padding: 12px !important;
      }
      .glass-sidebar .px-6 {
        padding-left: 12px !important;
        padding-right: 12px !important;
      }
    }
  </style>
</head>
<body>

  <!-- WORLD BACKGROUND -->
  <div id="world-bg">
    <div class="layer" id="layer-fog" style="opacity:0.4;">
      <svg width="100%" height="100%" viewBox="0 0 1440 900" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="aurora1" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#6c3fa0" stop-opacity="0"/>
            <stop offset="30%" stop-color="#6c3fa0" stop-opacity="0.15"/>
            <stop offset="50%" stop-color="#7eb8e3" stop-opacity="0.12"/>
            <stop offset="70%" stop-color="#6c3fa0" stop-opacity="0.15"/>
            <stop offset="100%" stop-color="#6c3fa0" stop-opacity="0"/>
          </linearGradient>
          <linearGradient id="aurora2" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#a04070" stop-opacity="0"/>
            <stop offset="40%" stop-color="#7eb8e3" stop-opacity="0.1"/>
            <stop offset="60%" stop-color="#d4a843" stop-opacity="0.06"/>
            <stop offset="100%" stop-color="#a04070" stop-opacity="0"/>
          </linearGradient>
          <filter id="blur-fog"><feGaussianBlur stdDeviation="40"/></filter>
          <filter id="blur-island"><feGaussianBlur stdDeviation="2"/></filter>
        </defs>
        <ellipse cx="720" cy="200" rx="800" ry="80" fill="url(#aurora1)" filter="url(#blur-fog)">
          <animate attributeName="cy" values="200;180;200" dur="12s" repeatCount="indefinite"/>
        </ellipse>
        <ellipse cx="500" cy="350" rx="600" ry="60" fill="url(#aurora2)" filter="url(#blur-fog)">
          <animate attributeName="cy" values="350;370;350" dur="15s" repeatCount="indefinite"/>
        </ellipse>
      </svg>
    </div>
    <div class="layer" id="layer-islands" style="opacity:0.18;">
      <svg width="100%" height="100%" viewBox="0 0 1440 900" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="fog-bottom" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#0a0e1a" stop-opacity="0"/>
            <stop offset="100%" stop-color="#6c3fa0" stop-opacity="0.15"/>
          </linearGradient>
        </defs>
        <g filter="url(#blur-island)" opacity="0.6">
          <path d="M80 620 Q120 580 180 590 Q220 570 260 600 Q240 640 160 650 Q100 645 80 620Z" fill="#1a1d3a"/>
          <rect x="150" y="555" width="3" height="35" rx="1" fill="#2a3050" opacity="0.5"/>
          <ellipse cx="152" cy="545" rx="18" ry="14" fill="#1f2845" opacity="0.6"/>
          <line x1="180" y1="600" x2="178" y2="650" stroke="rgba(126,184,227,0.15)" stroke-width="1"/>
        </g>
        <g filter="url(#blur-island)" opacity="0.5">
          <path d="M1100 500 Q1150 460 1220 470 Q1280 450 1320 490 Q1300 530 1200 540 Q1130 535 1100 500Z" fill="#161a30"/>
          <rect x="1200" y="430" width="4" height="40" rx="2" fill="#252a45" opacity="0.5"/>
          <ellipse cx="1202" cy="418" rx="22" ry="16" fill="#1d2240" opacity="0.5"/>
        </g>
        <g filter="url(#blur-island)" opacity="0.35">
          <ellipse cx="720" cy="720" rx="50" ry="18" fill="#181c32"/>
        </g>
        <rect x="0" y="800" width="1440" height="100" fill="url(#fog-bottom)" opacity="0.3"/>
      </svg>
    </div>
  </div>

  <canvas id="star-canvas"></canvas>
  <canvas id="magic-canvas"></canvas>

  <!-- Background Audio -->
  <audio id="bg-audio" preload="auto" playsinline loop>
    <source src="auraofglory.mp3" type="audio/mpeg">
    <source src="https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/auraofglory.mp3" type="audio/mpeg">
  </audio>

  <!-- Fallback Audio Modal -->
  <div id="audio-fallback-modal" style="display:none; position:fixed; inset:0; z-index:99999; background:rgba(0,0,0,0.7); backdrop-filter:blur(6px); align-items:center; justify-content:center;">
    <div style="background:rgba(30,20,50,0.95); border:1px solid rgba(255,215,0,0.3); border-radius:16px; padding:2rem 2.5rem; text-align:center; max-width:340px; box-shadow:0 0 40px rgba(138,43,226,0.3);">
      <p style="color:#e8d5b7; font-family:'Cinzel',serif; font-size:1.1rem; margin-bottom:1.2rem;">Browser memblokir autoplay.<br>Tap tombol di bawah untuk memutar musik.</p>
      <button id="audio-fallback-btn" style="background:linear-gradient(135deg,#8b5cf6,#d946ef); color:#fff; border:none; padding:14px 36px; border-radius:12px; font-size:1.1rem; font-family:'Cinzel',serif; cursor:pointer; letter-spacing:1px; box-shadow:0 0 20px rgba(138,43,226,0.4);">♪ Tap to Play Music ♪</button>
      <p style="color:#a08060; font-size:0.75rem; margin-top:0.8rem;">Pastikan mode senyap / silent tidak aktif</p>
    </div>
  </div>

  <!-- Screenshot Flash Overlay -->
  <div class="screenshot-flash" id="screenshot-flash"></div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Modal Overlay -->
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal-panel" id="modal-panel" style="width: min(400px, 95vw);">
      <button class="modal-close" id="modal-close" aria-label="Tutup modal">&times;</button>
      <h3 class="modal-title" id="modal-title">Modal</h3>
      <div id="modal-content"></div>
    </div>
  </div>

  <!-- CV WRAPPER -->
  <div class="cv-wrapper my-4 md:my-8 rounded-2xl overflow-hidden" id="cv-wrapper" style="box-shadow: 0 8px 60px rgba(108,63,160,0.25), 0 2px 20px rgba(0,0,0,0.5);">

    <!-- HEADER -->
    <header class="relative overflow-hidden" style="background: linear-gradient(135deg, rgba(13,27,42,0.9), rgba(108,63,160,0.3), rgba(13,27,42,0.9));">
      <div class="header-glow"></div>
      <svg class="absolute left-4 top-1/2 -translate-y-1/2 opacity-[0.07]" width="60" height="60" viewBox="0 0 60 60" fill="none" stroke="#d4a843" stroke-width="0.5">
        <circle cx="30" cy="30" r="25"/><circle cx="30" cy="30" r="18"/>
        <path d="M30 5 L30 55 M5 30 L55 30 M13 13 L47 47 M47 13 L13 47"/>
        <polygon points="30,8 34,22 48,22 37,31 41,45 30,36 19,45 23,31 12,22 26,22"/>
      </svg>
      <svg class="absolute right-4 top-1/2 -translate-y-1/2 opacity-[0.07]" width="60" height="60" viewBox="0 0 60 60" fill="none" stroke="#7eb8e3" stroke-width="0.5">
        <circle cx="30" cy="30" r="25"/><circle cx="30" cy="30" r="18"/>
        <path d="M30 5 L30 55 M5 30 L55 30 M13 13 L47 47 M47 13 L13 47"/>
        <polygon points="30,8 34,22 48,22 37,31 41,45 30,36 19,45 23,31 12,22 26,22"/>
      </svg>
      <div class="relative z-10 flex flex-col sm:flex-row items-center justify-between px-6 sm:px-10 py-6 gap-4">
        <h1 style="font-family:'Cinzel',serif; font-size:1.75rem; font-weight:700; color:#fff; letter-spacing:0.15em; text-align:center;">
          <span style="color:#d4a843; margin-right:8px; font-size:0.9rem;">✦</span>
          Curriculum Vitae
          <span style="color:#d4a843; margin-left:8px; font-size:0.9rem;">✦</span>
        </h1>
        <div class="flex flex-wrap gap-2 justify-center header-btn-group">
          <a href="#contact-section" style="background:rgba(255,255,255,0.05); border:1px solid rgba(126,184,227,0.2); color:#fff; font-size:12px; font-weight:500; padding:8px 16px; border-radius:9999px; text-decoration:none; display:inline-flex; align-items:center; gap:6px; transition:all 0.3s;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
            Hubungi Saya
          </a>
          <a href="https://wa.me/6282331419328" target="_blank" rel="noopener noreferrer" style="background:rgba(34,80,34,0.3); border:1px solid rgba(74,222,128,0.2); color:#86efac; font-size:12px; font-weight:500; padding:8px 16px; border-radius:9999px; text-decoration:none; display:inline-flex; align-items:center; gap:6px; transition:all 0.3s;">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
            WhatsApp
          </a>
        </div>
      </div>
    </header>

    <!-- MAIN 2-COLUMN -->
    <div class="flex flex-col md:flex-row cv-main-layout" style="min-height:800px;">

      <!-- SIDEBAR -->
      <aside class="w-full md:w-1/3 glass-sidebar text-white" style="display:flex; flex-direction:column;">

        <!-- Profile -->
        <div class="flex flex-col items-center pt-10 pb-6 px-6 fade-in">
          <div class="rounded-full overflow-hidden flex items-center justify-center mb-5 relative" style="width:144px; height:144px; border:3px solid rgba(212,168,67,0.25); box-shadow:0 0 30px rgba(108,63,160,0.3), inset 0 0 20px rgba(126,184,227,0.1);">
            <div class="absolute inset-0 rounded-full" style="background:radial-gradient(circle, rgba(42,80,128,0.15) 0%, rgba(13,27,42,0.3) 100%); z-index:2; pointer-events:none;"></div>
            <img
              id="profile-photo"
              loading="eager"
              decoding="sync"
              src="self.png"
              alt="Foto Mochamad Pratama Mukti"
              style="width:100%; height:100%; object-fit:cover; object-position:center 15%; position:absolute; inset:0; z-index:1;"
              onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
            />
            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" style="opacity:0.4; position:relative; z-index:0; display:none;">
              <circle cx="40" cy="30" r="16" fill="white"></circle>
              <ellipse cx="40" cy="72" rx="28" ry="20" fill="white"></ellipse>
            </svg>
          </div>
          <h2 style="font-family:'Cinzel',serif; font-size:1.25rem; font-weight:700; text-align:center; letter-spacing:0.08em; line-height:1.3; color:#fff;">Mochamad Pratama<br/>Mukti</h2>
          <p style="color:#d4a843; font-size:0.85rem; margin-top:4px; font-weight:500; letter-spacing:0.2em; text-transform:uppercase;">Multimedia</p>
          <div style="display:flex; align-items:center; gap:8px; margin-top:12px; opacity:0.3;">
            <div style="height:1px; width:40px; background:linear-gradient(90deg, transparent, #d4a843);"></div>
            <span style="color:#d4a843; font-size:8px;">◆</span>
            <div style="height:1px; width:40px; background:linear-gradient(90deg, #d4a843, transparent);"></div>
          </div>
        </div>

        <div style="margin:4px 24px; border-top:1px solid rgba(255,255,255,0.05);"></div>

        <!-- CONTACT -->
        <div class="px-6 py-4 fade-in" id="contact-section">
          <h3 style="font-family:'Cinzel',serif; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:0.3em; color:#d4a843; margin-bottom:16px; display:flex; align-items:center; gap:8px;">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.79 19.79 0 0 1 2.12 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
            Kontak
          </h3>
          <ul style="list-style:none; padding:0; margin:0; font-size:14px;">
            <li style="display:flex; align-items:flex-start; gap:12px; margin-bottom:12px;">
              <svg style="width:16px; height:16px; margin-top:2px; flex-shrink:0; color:#7eb8e3;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.79 19.79 0 0 1 2.12 4.18 2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
              <span style="color:rgba(255,255,255,0.7);">(+62) 823 3141 9328</span>
            </li>
            <li style="display:flex; align-items:flex-start; gap:12px; margin-bottom:12px;">
              <svg style="width:16px; height:16px; margin-top:2px; flex-shrink:0; color:#7eb8e3;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
              <a href="mailto:muktimochamadpratama23@gmail.com" style="color:rgba(255,255,255,0.7); word-break:break-all; line-height:1.3; text-decoration:none;">muktimochamadpratama23@gmail.com</a>
            </li>
            <li style="display:flex; align-items:flex-start; gap:12px;">
              <svg style="width:16px; height:16px; margin-top:2px; flex-shrink:0; color:#7eb8e3;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 1 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
              <span style="color:rgba(255,255,255,0.7); line-height:1.3;">Jl. Alur Laut 1 No.6 RT 02/RW 03, Rawabadak Selatan, Kec. Koja, Jakarta Utara</span>
            </li>
          </ul>
        </div>

        <div style="margin:4px 24px; border-top:1px solid rgba(255,255,255,0.05);"></div>

        <!-- KEMAMPUAN -->
        <div class="px-6 py-4 fade-in">
          <h3 style="font-family:'Cinzel',serif; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:0.3em; color:#d4a843; margin-bottom:16px; display:flex; align-items:center; gap:8px;">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
            Kemampuan
          </h3>
          <div style="display:flex; flex-direction:column; gap:12px;">
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">CorelDraw</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:22%;" data-target="22"></div></div>
            </div>
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">Adobe Photoshop</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:25%;" data-target="25"></div></div>
            </div>
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">Microsoft Word</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:28%;" data-target="28"></div></div>
            </div>
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">Excel</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:23%;" data-target="23"></div></div>
            </div>
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">PowerPoint</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:26%;" data-target="26"></div></div>
            </div>
            <div class="skill-row">
              <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
                <span style="font-size:14px; color:rgba(255,255,255,0.8);">Website / Web Blogging</span>
                <span style="font-size:9px; color:rgba(212,168,67,0.5); font-weight:500; text-transform:uppercase;">Pemula</span>
              </div>
              <div class="skill-track"><div class="skill-fill" style="width:20%;" data-target="20"></div></div>
            </div>
          </div>
          <p style="font-size:9px; color:rgba(255,255,255,0.25); margin-top:16px; text-align:center; font-style:italic;">Level saat ini: Pemula — sedang belajar &amp; berkembang</p>
        </div>

        <div style="margin:4px 24px; border-top:1px solid rgba(255,255,255,0.05);"></div>

        <!-- BAHASA -->
        <div class="px-6 py-4 fade-in" id="bahasa-section">
          <h3 style="font-family:'Cinzel',serif; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:0.3em; color:#d4a843; margin-bottom:16px; display:flex; align-items:center; gap:8px;">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
            Bahasa
          </h3>
          <div style="display:flex; align-items:flex-end; gap:32px; justify-content:center; padding:8px 0;">
            <div style="display:flex; flex-direction:column; align-items:center; gap:8px;">
              <div class="lang-bar-track">
                <div class="lang-bar-fill" id="lang-id" style="height:85%;" data-target="85"></div>
              </div>
              <span style="font-size:12px; color:rgba(255,255,255,0.6); font-weight:500;">Indonesia</span>
            </div>
            <div style="display:flex; flex-direction:column; align-items:center; gap:8px;">
              <div class="lang-bar-track">
                <div class="lang-bar-fill" id="lang-en" style="height:32%;" data-target="32"></div>
              </div>
              <span style="font-size:12px; color:rgba(255,255,255,0.6); font-weight:500;">Inggris</span>
            </div>
          </div>
          <div style="display:flex; justify-content:center; gap:32px; margin-top:4px;">
            <span style="font-size:9px; color:rgba(255,255,255,0.25); width:44px; text-align:center;">Aktif</span>
            <span style="font-size:9px; color:rgba(255,255,255,0.25); width:44px; text-align:center;">Dasar</span>
          </div>
        </div>

        <div style="flex:1;"></div>

        <!-- HOBI -->
        <div class="px-6 py-5 fade-in" style="background:linear-gradient(180deg, transparent, rgba(108,63,160,0.15));">
          <h3 style="font-family:'Cinzel',serif; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:0.3em; color:#d4a843; margin-bottom:12px; text-align:center;">Hobi</h3>
          <div style="display:flex; align-items:center; justify-content:center; gap:24px;">
            <!-- Music Icon -->
            <div class="hobby-icon" id="hobby-music" data-action="music" role="button" tabindex="0" aria-label="Putar/Pause musik" style="color:rgba(255,255,255,0.35); position:relative;">
              <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 18v-6a9 9 0 0 1 18 0v6"/><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"/></svg>
              <!-- Volume Popup -->
              <div class="volume-popup" id="volume-popup">
                <span class="volume-label">Volume</span>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="60">
                <span class="volume-label" id="volume-value">60%</span>
              </div>
            </div>
            <!-- Book Icon -->
            <div class="hobby-icon" id="hobby-book" data-action="book" role="button" tabindex="0" aria-label="Lihat buku 3D" style="color:rgba(255,255,255,0.35);">
              <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
            </div>
            <!-- Game Icon -->
            <div class="hobby-icon" id="hobby-game" data-action="game" role="button" tabindex="0" aria-label="Main game Snake" style="color:rgba(255,255,255,0.35);">
              <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><line x1="6" y1="12" x2="10" y2="12"/><line x1="8" y1="10" x2="8" y2="14"/><line x1="15" y1="13" x2="15.01" y2="13"/><line x1="18" y1="11" x2="18.01" y2="11"/><path d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z"/></svg>
            </div>
            <!-- Camera Icon -->
            <div class="hobby-icon" id="hobby-camera" data-action="camera" role="button" tabindex="0" aria-label="Ambil screenshot" style="color:rgba(255,255,255,0.35);">
              <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
            </div>
          </div>
        </div>

      </aside>

      <!-- KONTEN KANAN -->
      <main class="w-full md:w-2/3 glass-content" style="display:block;">
        <div class="p-6 sm:p-8 lg:p-10">

          <!-- INFORMASI PRIBADI -->
          <section style="margin-bottom:40px;" class="fade-in">
            <h2 style="font-family:'Cinzel',serif; font-weight:700; font-size:1.1rem; text-transform:uppercase; letter-spacing:0.2em; color:#d4a843; margin-bottom:20px; padding-bottom:8px; position:relative; display:flex; align-items:center; gap:12px;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#7eb8e3" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
              Informasi Pribadi
              <span style="position:absolute; bottom:0; left:0; right:0; height:1px; background:linear-gradient(90deg, rgba(212,168,67,0.4), rgba(126,184,227,0.2), transparent);"></span>
            </h2>
            <div class="glass-panel arcane-frame" style="padding:20px;">
              <table class="info-table" style="width:100%; font-size:14px; border-collapse:collapse;">
                <tbody>
                  <tr><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500; width:35%;">Nama Lengkap</td><td style="padding:10px 0; color:rgba(255,255,255,0.9);">Mochamad Pratama Mukti</td></tr>
                  <tr><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500;">Tempat, Tanggal Lahir</td><td style="padding:10px 0; color:rgba(255,255,255,0.9);">Surabaya, 26 Maret 2004</td></tr>
                  <tr><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500;">Jenis Kelamin</td><td style="padding:10px 0; color:rgba(255,255,255,0.9);">Laki-laki</td></tr>
                  <tr><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500;">Alamat</td><td style="padding:10px 0; color:rgba(255,255,255,0.9); line-height:1.4;">Jl. Alur Laut 1 No.6 RT 02/RW 03, Rawabadak Selatan, Kec. Koja, Jakarta Utara</td></tr>
                  <tr><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500;">No. Telepon</td><td style="padding:10px 0; color:rgba(255,255,255,0.9);">(+62) 823 3141 9328</td></tr>
                  <tr style="border-bottom:none;"><td style="padding:10px 16px 10px 0; color:rgba(255,255,255,0.4); font-weight:500;">E-Mail</td><td style="padding:10px 0;"><a href="mailto:muktimochamadpratama23@gmail.com" style="color:#7eb8e3; text-decoration:none;">muktimochamadpratama23@gmail.com</a></td></tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- PENDIDIKAN -->
          <section style="margin-bottom:40px;" class="fade-in">
            <h2 style="font-family:'Cinzel',serif; font-weight:700; font-size:1.1rem; text-transform:uppercase; letter-spacing:0.2em; color:#d4a843; margin-bottom:20px; padding-bottom:8px; position:relative; display:flex; align-items:center; gap:12px;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#7eb8e3" stroke-width="2"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c0 1.1 2.7 3 6 3s6-1.9 6-3v-5"/></svg>
              Pendidikan
              <span style="position:absolute; bottom:0; left:0; right:0; height:1px; background:linear-gradient(90deg, rgba(212,168,67,0.4), rgba(126,184,227,0.2), transparent);"></span>
            </h2>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="glass-panel" style="padding:16px;">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 style="font-weight:600; color:rgba(255,255,255,0.9);">SMKN 1 Driyorejo</h3>
                    <span style="font-size:12px; color:#d4a843; font-weight:600; background:rgba(212,168,67,0.1); border:1px solid rgba(212,168,67,0.15); padding:2px 12px; border-radius:9999px; margin-top:4px; width:fit-content;">2019 — 2022</span>
                  </div>
                  <p style="font-size:14px; color:rgba(255,255,255,0.5); margin-top:4px;">Jurusan Multimedia</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="glass-panel" style="padding:16px;">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 style="font-weight:600; color:rgba(255,255,255,0.9);">SMPN 1 Driyorejo</h3>
                    <span style="font-size:12px; color:#7eb8e3; font-weight:600; background:rgba(126,184,227,0.1); border:1px solid rgba(126,184,227,0.15); padding:2px 12px; border-radius:9999px; margin-top:4px; width:fit-content;">2016 — 2019</span>
                  </div>
                  <p style="font-size:14px; color:rgba(255,255,255,0.5); margin-top:4px;">Sekolah Menengah Pertama</p>
                </div>
              </div>
            </div>
          </section>

          <!-- PENGALAMAN KERJA -->
          <section style="margin-bottom:40px;" class="fade-in">
            <h2 style="font-family:'Cinzel',serif; font-weight:700; font-size:1.1rem; text-transform:uppercase; letter-spacing:0.2em; color:#d4a843; margin-bottom:20px; padding-bottom:8px; position:relative; display:flex; align-items:center; gap:12px;">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#7eb8e3" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
              Pengalaman Kerja
              <span style="position:absolute; bottom:0; left:0; right:0; height:1px; background:linear-gradient(90deg, rgba(212,168,67,0.4), rgba(126,184,227,0.2), transparent);"></span>
            </h2>
            <div class="timeline">
              <!-- Yayasan Kasih Ananda -->
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="glass-panel" style="padding:20px;">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 style="font-weight:600; color:rgba(255,255,255,0.9);">Yayasan Kasih Ananda</h3>
                    <span style="font-size:12px; color:#4ade80; font-weight:600; background:rgba(74,222,128,0.1); border:1px solid rgba(74,222,128,0.2); padding:2px 12px; border-radius:9999px; margin-top:4px; width:fit-content;">Agustus 2025 — Sekarang</span>
                  </div>
                  <p style="font-size:14px; color:#d4a843; font-weight:500; margin-top:4px;">Staff Operator / Staff Pembantu Umum</p>
                  <ul style="margin-top:8px; padding:0; list-style:none; font-size:14px;">
                    <li style="display:flex; align-items:flex-start; gap:8px; margin-bottom:4px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Administrasi dan operasional harian</span></li>
                    <li style="display:flex; align-items:flex-start; gap:8px; margin-bottom:4px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Membantu dokumentasi dan dukungan teknis dasar</span></li>
                    <li style="display:flex; align-items:flex-start; gap:8px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Koordinasi kebutuhan pekerjaan dengan tim</span></li>
                  </ul>
                </div>
              </div>
              <!-- PT. Langgeng Makmur Aluminium -->
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="glass-panel" style="padding:20px;">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 style="font-weight:600; color:rgba(255,255,255,0.9);">PT. Langgeng Makmur Aluminium</h3>
                    <span style="font-size:12px; color:#7eb8e3; font-weight:600; background:rgba(126,184,227,0.1); border:1px solid rgba(126,184,227,0.15); padding:2px 12px; border-radius:9999px; margin-top:4px; width:fit-content;">26 Okt 2023 — 01 Mar 2024</span>
                  </div>
                  <p style="font-size:14px; color:#d4a843; font-weight:500; margin-top:4px;">Produksi</p>
                  <ul style="margin-top:8px; padding:0; list-style:none; font-size:14px;">
                    <li style="display:flex; align-items:flex-start; gap:8px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Bekerja di bagian produksi</span></li>
                  </ul>
                </div>
              </div>
              <!-- PT. Tirta Media -->
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="glass-panel" style="padding:20px;">
                  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                    <h3 style="font-weight:600; color:rgba(255,255,255,0.9);">PT. Tirta Media</h3>
                    <span style="font-size:12px; color:#7eb8e3; font-weight:600; background:rgba(126,184,227,0.1); border:1px solid rgba(126,184,227,0.15); padding:2px 12px; border-radius:9999px; margin-top:4px; width:fit-content;">25 Jan 2021 — 25 Apr 2021</span>
                  </div>
                  <p style="font-size:14px; color:#d4a843; font-weight:500; margin-top:4px;">Magang</p>
                  <ul style="margin-top:8px; padding:0; list-style:none; font-size:14px;">
                    <li style="display:flex; align-items:flex-start; gap:8px; margin-bottom:4px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Desain grafis dan editing video</span></li>
                    <li style="display:flex; align-items:flex-start; gap:8px;"><span style="color:#d4a843; font-size:12px;">✦</span><span style="color:rgba(255,255,255,0.85);">Konten media sosial</span></li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

        </div>
      </main>

    </div>

    <!-- FOOTER -->
    <footer style="background:rgba(13,27,42,0.8); border-top:1px solid rgba(126,184,227,0.08); padding:16px 24px; text-align:center;">
      <p style="font-size:12px; color:rgba(255,255,255,0.6);">© 2024 Mochamad Pratama Mukti. All rights reserved.</p>
    </footer>

  </div>

  <!-- MAIN SCRIPT -->
  <script type="module">
    import * as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

    // ========================================
    // UTILITY FUNCTIONS
    // ========================================

    // Toast notification
    function showToast(message, duration = 3000) {
      const container = document.getElementById('toast-container');
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      container.appendChild(toast);
      setTimeout(() => {
        toast.classList.add('hide');
        setTimeout(() => toast.remove(), 300);
      }, duration);
    }

    // Modal functions
    const modalOverlay = document.getElementById('modal-overlay');
    const modalPanel = document.getElementById('modal-panel');
    const modalTitle = document.getElementById('modal-title');
    const modalContent = document.getElementById('modal-content');
    const modalClose = document.getElementById('modal-close');

    let currentModalCleanup = null;

    function openModal(title, content, width = '400px', cleanup = null) {
      modalTitle.textContent = title;
      modalContent.innerHTML = '';
      if (typeof content === 'string') {
        modalContent.innerHTML = content;
      } else {
        modalContent.appendChild(content);
      }
      modalPanel.style.width = width;
      modalOverlay.classList.add('active');
      currentModalCleanup = cleanup;
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modalOverlay.classList.remove('active');
      document.body.style.overflow = '';
      if (currentModalCleanup) {
        currentModalCleanup();
        currentModalCleanup = null;
      }
      // Clear content after animation
      setTimeout(() => {
        modalContent.innerHTML = '';
      }, 300);
    }

    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) closeModal();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modalOverlay.classList.contains('active')) closeModal();
    });

    // ========================================
    // AUDIO PLAYER (Music Icon)
    // ========================================

    const bgAudio = document.getElementById('bg-audio');
    const musicIcon = document.getElementById('hobby-music');
    const volumePopup = document.getElementById('volume-popup');
    const volumeSlider = document.getElementById('volume-slider');
    const volumeValue = document.getElementById('volume-value');
    const audioFallbackModal = document.getElementById('audio-fallback-modal');
    const audioFallbackBtn = document.getElementById('audio-fallback-btn');
    let isPlaying = false;
    let volumePopupTimeout;
    let audioUnlocked = false;

    // Set audio source via JS and load
    // If <source> already loaded, just configure; otherwise set src as fallback
    if (!bgAudio.src && !bgAudio.querySelector('source')) {
      bgAudio.src = 'auraofglory.mp3';
    }
    bgAudio.load();
    bgAudio.volume = 0.6;
    bgAudio.muted = false;

    // Error event debugging — try fallback src on first error
    let audioRetried = false;
    bgAudio.addEventListener('error', (e) => {
      const err = bgAudio.error;

      // On first error, retry: remove <source>, set local src directly
      if (!audioRetried) {
        audioRetried = true;
        console.warn('[Audio] First load failed, retrying with direct src...');
        const sources = bgAudio.querySelectorAll('source');
        sources.forEach(s => s.remove());
        bgAudio.src = 'auraofglory.mp3?t=' + Date.now();
        bgAudio.load();
        return;
      }

      let msg = 'Audio error: ';
      if (err) {
        switch (err.code) {
          case MediaError.MEDIA_ERR_ABORTED: msg += 'Playback aborted'; break;
          case MediaError.MEDIA_ERR_NETWORK: msg += 'Network error'; break;
          case MediaError.MEDIA_ERR_DECODE: msg += 'Decode error'; break;
          case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED: msg += 'Format not supported'; break;
          default: msg += 'Unknown error (code ' + err.code + ')';
        }
      } else {
        msg += 'Unknown';
      }
      console.error(msg, e);
      showToast(msg);
    });

    // Audio unlock for iOS/Safari — play+pause on first user gesture
    function unlockAudio() {
      if (audioUnlocked) return;
      bgAudio.muted = false;
      bgAudio.play().then(() => {
        bgAudio.pause();
        bgAudio.currentTime = 0;
        audioUnlocked = true;
        console.log('[Audio] Unlocked successfully');
      }).catch(() => {
        console.log('[Audio] Unlock attempt failed (normal on some browsers)');
      });
    }
    document.addEventListener('touchstart', unlockAudio, { once: true, passive: true });
    document.addEventListener('pointerdown', unlockAudio, { once: true, passive: true });

    // Sync UI with audio state
    bgAudio.addEventListener('play', () => {
      musicIcon.classList.add('playing');
      isPlaying = true;
      console.log('[Audio] Playing - volume:', bgAudio.volume, 'muted:', bgAudio.muted);
    });
    bgAudio.addEventListener('pause', () => {
      musicIcon.classList.remove('playing');
      isPlaying = false;
      console.log('[Audio] Paused');
    });
    bgAudio.addEventListener('ended', () => {
      musicIcon.classList.remove('playing');
      isPlaying = false;
    });

    // Show fallback modal
    function showAudioFallback() {
      audioFallbackModal.style.display = 'flex';
    }

    // Fallback button — direct user gesture play
    audioFallbackBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      bgAudio.muted = false;
      bgAudio.volume = 0.6;
      bgAudio.currentTime = Math.max(0, bgAudio.currentTime || 0);
      bgAudio.playbackRate = 1.0;
      bgAudio.play().then(() => {
        audioFallbackModal.style.display = 'none';
        showToast('Music: ON ♪');
        console.log('[Audio] Fallback play succeeded');
      }).catch(err => {
        console.error('[Audio] Even fallback failed:', err);
        showToast('Gagal memutar audio. Cek mode senyap / silent.');
      });
    });

    // Close fallback modal on outside click
    audioFallbackModal.addEventListener('click', (e) => {
      if (e.target === audioFallbackModal) {
        audioFallbackModal.style.display = 'none';
      }
    });

    function toggleAudio(fromGesture) {
      try {
        if (isPlaying) {
          bgAudio.pause();
          showToast('Music: OFF');
        } else {
          // Android silent fix: ensure not muted, reset playback state
          bgAudio.muted = false;
          bgAudio.volume = parseFloat(volumeSlider.value) / 100 || 0.6;
          bgAudio.currentTime = Math.max(0, bgAudio.currentTime || 0);
          bgAudio.playbackRate = 1.0;

          const playPromise = bgAudio.play();
          if (playPromise !== undefined) {
            playPromise.then(() => {
              showToast('Music: ON ♪');
              console.log('[Audio] Play succeeded via toggleAudio');
            }).catch(err => {
              console.error('[Audio] Play rejected:', err.name, err.message);
              // Show fallback modal for user to tap
              showAudioFallback();
            });
          }
        }
      } catch (err) {
        console.error('[Audio] Toggle error:', err);
        showAudioFallback();
      }
    }

    musicIcon.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      toggleAudio(true);
    });

    musicIcon.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleAudio(true);
      }
    });

    // Volume popup on hover
    musicIcon.addEventListener('mouseenter', () => {
      clearTimeout(volumePopupTimeout);
      volumePopup.classList.add('active');
    });

    musicIcon.addEventListener('mouseleave', () => {
      volumePopupTimeout = setTimeout(() => {
        volumePopup.classList.remove('active');
      }, 500);
    });

    volumePopup.addEventListener('mouseenter', () => {
      clearTimeout(volumePopupTimeout);
    });

    volumePopup.addEventListener('mouseleave', () => {
      volumePopupTimeout = setTimeout(() => {
        volumePopup.classList.remove('active');
      }, 500);
    });

    volumeSlider.addEventListener('input', (e) => {
      const val = e.target.value / 100;
      bgAudio.volume = val;
      volumeValue.textContent = e.target.value + '%';
    });

    // ========================================
    // 3D BOOK VIEWER (Book Icon)
    // ========================================

    let threeRenderer, threeScene, threeCamera, threeControls, threeAnimationId;

    function openBookViewer() {
      const container = document.createElement('div');
      container.id = 'book-viewer';

      openModal('✦ 3D Book Viewer ✦', container, '520px', cleanupBookViewer);

      // Wait for DOM to fully render so container has dimensions
      setTimeout(() => {
        initThreeScene();
      }, 100);
    }

    function initThreeScene() {
      const container = document.getElementById('book-viewer');
      if (!container) return;

      // Force dimensions if container hasn't rendered yet
      const width = container.clientWidth || container.offsetWidth || 452;
      const height = container.clientHeight || container.offsetHeight || 400;

      // Scene
      threeScene = new THREE.Scene();
      threeScene.background = new THREE.Color(0x0a0e1a);

      // Camera
      threeCamera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
      threeCamera.position.set(0, 1.5, 4);

      // Renderer
      threeRenderer = new THREE.WebGLRenderer({ 
        antialias: true,
        alpha: true 
      });
      threeRenderer.setSize(width, height);
      threeRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      threeRenderer.outputColorSpace = THREE.SRGBColorSpace;
      container.appendChild(threeRenderer.domElement);

      // Controls
      threeControls = new OrbitControls(threeCamera, threeRenderer.domElement);
      threeControls.enableDamping = true;
      threeControls.dampingFactor = 0.05;
      threeControls.enableZoom = true;
      threeControls.autoRotate = true;
      threeControls.autoRotateSpeed = 2;

      // Lights - brighter for better visibility
      const ambientLight = new THREE.AmbientLight(0xffffff, 1.0);
      threeScene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);
      directionalLight.position.set(5, 5, 5);
      threeScene.add(directionalLight);

      const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight2.position.set(-5, 3, -3);
      threeScene.add(directionalLight2);

      const pointLight = new THREE.PointLight(0xd4a843, 1.0, 15);
      pointLight.position.set(-2, 2, 2);
      threeScene.add(pointLight);

      const pointLight2 = new THREE.PointLight(0x7eb8e3, 0.6, 15);
      pointLight2.position.set(2, -1, 3);
      threeScene.add(pointLight2);

      // Add loading indicator
      const loadingDiv = document.createElement('div');
      loadingDiv.id = 'book-loading';
      loadingDiv.style.cssText = 'position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:#d4a843;font-size:14px;z-index:5;pointer-events:none;';
      loadingDiv.textContent = 'Memuat model 3D...';
      container.style.position = 'relative';
      container.appendChild(loadingDiv);

      // Load GLB model
      const loader = new GLTFLoader();
      loader.load(
        'https://pub-28ef6a5a376f424987c4fcdf855a8fe4.r2.dev/book.glb',
        (gltf) => {
          // Remove loading indicator
          const li = document.getElementById('book-loading');
          if (li) li.remove();

          const model = gltf.scene;

          // Ensure materials are visible
          model.traverse((child) => {
            if (child.isMesh) {
              child.material.side = THREE.DoubleSide;
              if (child.material.map) child.material.map.colorSpace = THREE.SRGBColorSpace;
            }
          });

          // Center model
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());
          model.position.sub(center);
          
          // Scale to fit viewport
          const maxDim = Math.max(size.x, size.y, size.z);
          const scale = 2.5 / maxDim;
          model.scale.setScalar(scale);
          
          threeScene.add(model);
          showToast('Model buku berhasil dimuat');
        },
        (xhr) => {
          // Loading progress
          if (xhr.total) {
            const pct = Math.round((xhr.loaded / xhr.total) * 100);
            const li = document.getElementById('book-loading');
            if (li) li.textContent = 'Memuat model 3D... ' + pct + '%';
          }
        },
        (error) => {
          console.error('Error loading GLB:', error);
          const li = document.getElementById('book-loading');
          if (li) li.textContent = 'Gagal memuat — menampilkan placeholder';
          showToast('Gagal memuat model 3D, menampilkan placeholder');
          // Add placeholder book shape
          const group = new THREE.Group();
          // Cover
          const coverGeo = new THREE.BoxGeometry(1.2, 1.6, 0.08);
          const coverMat = new THREE.MeshStandardMaterial({ color: 0x6c3fa0, metalness: 0.4, roughness: 0.6 });
          const cover = new THREE.Mesh(coverGeo, coverMat);
          group.add(cover);
          // Pages
          const pagesGeo = new THREE.BoxGeometry(1.1, 1.5, 0.15);
          const pagesMat = new THREE.MeshStandardMaterial({ color: 0xf5f0e0, roughness: 0.9 });
          const pages = new THREE.Mesh(pagesGeo, pagesMat);
          pages.position.z = 0.04;
          group.add(pages);
          // Back cover
          const back = new THREE.Mesh(coverGeo, coverMat);
          back.position.z = 0.16;
          group.add(back);
          // Spine
          const spineGeo = new THREE.BoxGeometry(0.05, 1.6, 0.32);
          const spine = new THREE.Mesh(spineGeo, coverMat);
          spine.position.set(-0.625, 0, 0.08);
          group.add(spine);
          threeScene.add(group);
        }
      );

      // Animation loop
      function animate() {
        threeAnimationId = requestAnimationFrame(animate);
        threeControls.update();
        threeRenderer.render(threeScene, threeCamera);
      }
      animate();

      // Handle resize
      window.addEventListener('resize', onWindowResize);
    }

    function onWindowResize() {
      const container = document.getElementById('book-viewer');
      if (!container || !threeCamera || !threeRenderer) return;
      
      const width = container.clientWidth;
      const height = container.clientHeight;
      
      threeCamera.aspect = width / height;
      threeCamera.updateProjectionMatrix();
      threeRenderer.setSize(width, height);
    }

    function cleanupBookViewer() {
      window.removeEventListener('resize', onWindowResize);
      
      if (threeAnimationId) {
        cancelAnimationFrame(threeAnimationId);
        threeAnimationId = null;
      }
      
      if (threeControls) {
        threeControls.dispose();
        threeControls = null;
      }
      
      if (threeRenderer) {
        threeRenderer.dispose();
        threeRenderer = null;
      }
      
      if (threeScene) {
        threeScene.traverse((object) => {
          if (object.geometry) object.geometry.dispose();
          if (object.material) {
            if (Array.isArray(object.material)) {
              object.material.forEach(m => m.dispose());
            } else {
              object.material.dispose();
            }
          }
        });
        threeScene = null;
      }
      
      threeCamera = null;
    }

    document.getElementById('hobby-book').addEventListener('click', openBookViewer);
    document.getElementById('hobby-book').addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        openBookViewer();
      }
    });

    // ========================================
    // SNAKE GAME (Game Icon)
    // ========================================

    let snakeGameInterval;
    let snakeDirection = 'right';
    let snakeNextDirection = 'right';
    let snake = [];
    let food = {};
    let snakeScore = 0;
    let gameOver = false;
    const gridSize = 20;
    const cellSize = 16;
    const canvasSize = gridSize * cellSize;

    function openSnakeGame() {
      const content = document.createElement('div');
      content.innerHTML = `
        <div class="game-score">Score: <span id="snake-score">0</span></div>
        <canvas id="snake-canvas" width="${canvasSize}" height="${canvasSize}"></canvas>
        <div class="game-controls">
          <div style="display:flex; flex-direction:column; align-items:center; gap:4px;">
            <button class="game-btn" data-dir="up" aria-label="Atas">↑</button>
            <div style="display:flex; gap:4px;">
              <button class="game-btn" data-dir="left" aria-label="Kiri">←</button>
              <button class="game-btn" data-dir="down" aria-label="Bawah">↓</button>
              <button class="game-btn" data-dir="right" aria-label="Kanan">→</button>
            </div>
          </div>
        </div>
        <div style="text-align:center; margin-top:12px;">
          <button id="restart-btn" class="game-btn" style="width:auto; padding:8px 20px; font-size:14px;">Restart</button>
        </div>
        <p style="font-size:11px; color:rgba(255,255,255,0.4); text-align:center; margin-top:8px;">Gunakan panah ↑↓←→ atau WASD</p>
      `;

      openModal('✦ Snake Game ✦', content, '380px', cleanupSnakeGame);

      // Initialize game after DOM update
      requestAnimationFrame(() => {
        initSnakeGame();
        setupGameControls();
      });
    }

    function initSnakeGame() {
      snake = [
        { x: 5, y: 10 },
        { x: 4, y: 10 },
        { x: 3, y: 10 }
      ];
      snakeDirection = 'right';
      snakeNextDirection = 'right';
      snakeScore = 0;
      gameOver = false;
      placeFood();
      updateScoreDisplay();
      
      if (snakeGameInterval) clearInterval(snakeGameInterval);
      snakeGameInterval = setInterval(gameLoop, 180); // ~5.5 fps (slower, more playable)
      
      drawGame();
    }

    function placeFood() {
      let newFood;
      do {
        newFood = {
          x: Math.floor(Math.random() * gridSize),
          y: Math.floor(Math.random() * gridSize)
        };
      } while (snake.some(seg => seg.x === newFood.x && seg.y === newFood.y));
      food = newFood;
    }

    function gameLoop() {
      if (gameOver) return;

      snakeDirection = snakeNextDirection;
      
      // Calculate new head position
      const head = { ...snake[0] };
      switch (snakeDirection) {
        case 'up': head.y--; break;
        case 'down': head.y++; break;
        case 'left': head.x--; break;
        case 'right': head.x++; break;
      }

      // Check wall collision
      if (head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize) {
        endGame();
        return;
      }

      // Check self collision
      if (snake.some(seg => seg.x === head.x && seg.y === head.y)) {
        endGame();
        return;
      }

      // Add new head
      snake.unshift(head);

      // Check food
      if (head.x === food.x && head.y === food.y) {
        snakeScore += 10;
        updateScoreDisplay();
        placeFood();
      } else {
        snake.pop();
      }

      drawGame();
    }

    function drawGame() {
      const canvas = document.getElementById('snake-canvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      
      // Clear
      ctx.fillStyle = '#0a0e1a';
      ctx.fillRect(0, 0, canvasSize, canvasSize);

      // Draw grid (subtle)
      ctx.strokeStyle = 'rgba(126,184,227,0.1)';
      ctx.lineWidth = 0.5;
      for (let i = 0; i <= gridSize; i++) {
        ctx.beginPath();
        ctx.moveTo(i * cellSize, 0);
        ctx.lineTo(i * cellSize, canvasSize);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(0, i * cellSize);
        ctx.lineTo(canvasSize, i * cellSize);
        ctx.stroke();
      }

      // Draw food
      ctx.fillStyle = '#d4a843';
      ctx.shadowColor = '#d4a843';
      ctx.shadowBlur = 8;
      ctx.beginPath();
      ctx.arc(
        food.x * cellSize + cellSize / 2,
        food.y * cellSize + cellSize / 2,
        cellSize / 2 - 2,
        0,
        Math.PI * 2
      );
      ctx.fill();
      ctx.shadowBlur = 0;

      // Draw snake
      snake.forEach((seg, i) => {
        const gradient = ctx.createRadialGradient(
          seg.x * cellSize + cellSize / 2,
          seg.y * cellSize + cellSize / 2,
          0,
          seg.x * cellSize + cellSize / 2,
          seg.y * cellSize + cellSize / 2,
          cellSize / 2
        );
        
        if (i === 0) {
          gradient.addColorStop(0, '#7eb8e3');
          gradient.addColorStop(1, '#6c3fa0');
        } else {
          gradient.addColorStop(0, '#6c3fa0');
          gradient.addColorStop(1, '#4a2a70');
        }
        
        ctx.fillStyle = gradient;
        ctx.fillRect(
          seg.x * cellSize + 1,
          seg.y * cellSize + 1,
          cellSize - 2,
          cellSize - 2
        );
      });

      // Game over overlay
      if (gameOver) {
        ctx.fillStyle = 'rgba(0,0,0,0.7)';
        ctx.fillRect(0, 0, canvasSize, canvasSize);
        ctx.fillStyle = '#ef4444';
        ctx.font = 'bold 24px Poppins, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('GAME OVER', canvasSize / 2, canvasSize / 2 - 10);
        ctx.fillStyle = '#fff';
        ctx.font = '14px Poppins, sans-serif';
        ctx.fillText(`Score: ${snakeScore}`, canvasSize / 2, canvasSize / 2 + 20);
      }
    }

    function endGame() {
      gameOver = true;
      clearInterval(snakeGameInterval);
      drawGame();
      showToast(`Game Over! Score: ${snakeScore}`);
    }

    function updateScoreDisplay() {
      const el = document.getElementById('snake-score');
      if (el) el.textContent = snakeScore;
    }

    function setupGameControls() {
      // On-screen buttons
      document.querySelectorAll('.game-btn[data-dir]').forEach(btn => {
        btn.addEventListener('click', () => {
          const dir = btn.dataset.dir;
          changeDirection(dir);
        });
      });

      // Restart button
      const restartBtn = document.getElementById('restart-btn');
      if (restartBtn) {
        restartBtn.addEventListener('click', initSnakeGame);
      }

      // Keyboard controls
      document.addEventListener('keydown', handleKeyDown);
    }

    function handleKeyDown(e) {
      if (!modalOverlay.classList.contains('active')) return;
      
      const keyMap = {
        'ArrowUp': 'up', 'w': 'up', 'W': 'up',
        'ArrowDown': 'down', 's': 'down', 'S': 'down',
        'ArrowLeft': 'left', 'a': 'left', 'A': 'left',
        'ArrowRight': 'right', 'd': 'right', 'D': 'right'
      };
      
      const dir = keyMap[e.key];
      if (dir) {
        e.preventDefault();
        changeDirection(dir);
      }
    }

    function changeDirection(dir) {
      const opposites = { up: 'down', down: 'up', left: 'right', right: 'left' };
      if (dir !== opposites[snakeDirection]) {
        snakeNextDirection = dir;
      }
    }

    function cleanupSnakeGame() {
      if (snakeGameInterval) {
        clearInterval(snakeGameInterval);
        snakeGameInterval = null;
      }
      document.removeEventListener('keydown', handleKeyDown);
    }

    document.getElementById('hobby-game').addEventListener('click', openSnakeGame);
    document.getElementById('hobby-game').addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        openSnakeGame();
      }
    });

    // ========================================
    // SCREENSHOT (Camera Icon)
    // ========================================

    // Helper: convert same-origin image to dataURL via canvas
    async function toDataURL(url) {
      try {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = url;
        await new Promise((resolve, reject) => {
          if (img.complete) { resolve(); return; }
          img.onload = resolve;
          img.onerror = reject;
        });
        const c = document.createElement('canvas');
        c.width = img.naturalWidth;
        c.height = img.naturalHeight;
        c.getContext('2d').drawImage(img, 0, 0);
        return c.toDataURL('image/png');
      } catch (err) {
        console.warn('toDataURL failed for:', url, err);
        return null;
      }
    }

    async function takeScreenshot() {
      // Close modal if open
      if (modalOverlay.classList.contains('active')) {
        closeModal();
        await new Promise(r => setTimeout(r, 350));
      }

      let tmp = null;
      try {
        showToast('Mengambil screenshot...');

        // 1) Pre-convert profile photo to dataURL BEFORE cloning
        const profileImg = document.getElementById('profile-photo');
        let photoDataURL = null;
        if (profileImg && profileImg.src) {
          photoDataURL = await toDataURL(profileImg.src);
        }

        // 2) Clone the CV wrapper
        const src = document.getElementById('cv-wrapper');
        const clone = src.cloneNode(true);

        // 3) Remove elements that cause random darkness in clone
        clone.querySelectorAll('#world-bg, #star-canvas, #magic-canvas, canvas, .modal-overlay, .toast-container, .volume-popup, .screenshot-flash').forEach(el => el.remove());

        // 4) Add export-match class (dark theme, matches website look)
        clone.classList.add('export-match');
        clone.id = 'cv-wrapper-export';
        clone.style.margin = '0';
        clone.style.transform = 'none';
        clone.style.boxShadow = 'none';

        // 5) Embed profile photo as dataURL in clone
        const cloneProfileImg = clone.querySelector('#profile-photo');
        if (cloneProfileImg && photoDataURL) {
          cloneProfileImg.src = photoDataURL;
          cloneProfileImg.removeAttribute('crossorigin');
          // Wait for the dataURL image to load in clone
          await new Promise((resolve) => {
            if (cloneProfileImg.complete) { resolve(); return; }
            cloneProfileImg.onload = resolve;
            cloneProfileImg.onerror = resolve;
          });
        }

        // 6) Ensure all elements are fully visible (opacity 1)
        clone.querySelectorAll('*').forEach(el => {
          el.style.opacity = '1';
        });

        // 7) Brighten inline rgba text colors that are too dim
        clone.querySelectorAll('*').forEach(el => {
          const attr = el.getAttribute('style');
          if (!attr) return;
          if (/color:\s*rgba\(255,\s*255,\s*255,\s*0\.[0-6]/.test(attr)) {
            el.setAttribute('style', attr.replace(
              /color:\s*rgba\(255,\s*255,\s*255,\s*0\.[0-6]\d*\)/g,
              'color: rgba(255,255,255,0.9)'
            ));
          }
        });

        // 8) Create off-screen container with body's background (dark aurora)
        const bodyBg = getComputedStyle(document.body).background;
        tmp = document.createElement('div');
        tmp.id = 'export-root';
        tmp.style.position = 'fixed';
        tmp.style.left = '-99999px';
        tmp.style.top = '0';
        tmp.style.width = src.offsetWidth + 'px';
        tmp.style.background = bodyBg;
        tmp.style.padding = '0';
        tmp.style.zIndex = '-1';
        tmp.appendChild(clone);
        document.body.appendChild(tmp);

        // Wait for layout to settle
        await new Promise(r => setTimeout(r, 300));

        // 9) Render screenshot from the CLONE
        const dpr = Math.min(window.devicePixelRatio * 2, 4);
        const canvas = await html2canvas(clone, {
          backgroundColor: '#0a0e1a',
          scale: dpr,
          useCORS: true,
          allowTaint: false,
          logging: false,
          removeContainer: true,
          width: clone.scrollWidth,
          height: clone.scrollHeight
        });

        // 10) Remove off-screen container
        document.body.removeChild(tmp);
        tmp = null;

        // 11) Flash effect
        const flash = document.getElementById('screenshot-flash');
        flash.classList.add('active');
        setTimeout(() => flash.classList.remove('active'), 150);

        // 12) Download PNG
        canvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const link = document.createElement('a');
          link.href = url;
          link.download = 'CV_Mochamad_Pratama_Mukti_screenshot.png';
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(url);
          showToast('Screenshot tersimpan!');
        }, 'image/png');

      } catch (err) {
        console.error('Screenshot error:', err);
        showToast('Gagal mengambil screenshot');
        if (tmp && tmp.parentNode) {
          document.body.removeChild(tmp);
        }
      }
    }

    document.getElementById('hobby-camera').addEventListener('click', takeScreenshot);
    document.getElementById('hobby-camera').addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        takeScreenshot();
      }
    });

    // ========================================
    // BACKGROUND ANIMATIONS (Stars & Magic)
    // ========================================

    // Star canvas
    const starCanvas = document.getElementById('star-canvas');
    const starCtx = starCanvas.getContext('2d');
    let stars = [];

    function initStars() {
      starCanvas.width = window.innerWidth;
      starCanvas.height = window.innerHeight;
      stars = [];
      const count = Math.floor((starCanvas.width * starCanvas.height) / 8000);
      for (let i = 0; i < count; i++) {
        stars.push({
          x: Math.random() * starCanvas.width,
          y: Math.random() * starCanvas.height,
          size: Math.random() * 1.5 + 0.5,
          alpha: Math.random() * 0.5 + 0.3,
          speed: Math.random() * 0.02 + 0.01
        });
      }
    }

    function animateStars() {
      starCtx.clearRect(0, 0, starCanvas.width, starCanvas.height);
      stars.forEach(star => {
        star.alpha += Math.sin(Date.now() * star.speed) * 0.01;
        star.alpha = Math.max(0.1, Math.min(0.8, star.alpha));
        starCtx.beginPath();
        starCtx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
        starCtx.fillStyle = `rgba(255,255,255,${star.alpha})`;
        starCtx.fill();
      });
      requestAnimationFrame(animateStars);
    }

    // Magic particles canvas
    const magicCanvas = document.getElementById('magic-canvas');
    const magicCtx = magicCanvas.getContext('2d');
    let particles = [];

    function initMagic() {
      magicCanvas.width = window.innerWidth;
      magicCanvas.height = window.innerHeight;
    }

    function animateMagic() {
      magicCtx.clearRect(0, 0, magicCanvas.width, magicCanvas.height);
      
      // Occasionally add new particle
      if (Math.random() < 0.03) {
        particles.push({
          x: Math.random() * magicCanvas.width,
          y: magicCanvas.height + 10,
          vx: (Math.random() - 0.5) * 0.5,
          vy: -Math.random() * 1.5 - 0.5,
          size: Math.random() * 3 + 1,
          alpha: 0.6,
          color: ['#d4a843', '#7eb8e3', '#6c3fa0'][Math.floor(Math.random() * 3)]
        });
      }

      particles = particles.filter(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= 0.003;
        
        if (p.alpha <= 0) return false;
        
        magicCtx.beginPath();
        magicCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        magicCtx.fillStyle = p.color.replace(')', `,${p.alpha})`).replace('rgb', 'rgba').replace('#', '');
        
        // Convert hex to rgba
        const hex = p.color;
        const r = parseInt(hex.slice(1, 3), 16);
        const g = parseInt(hex.slice(3, 5), 16);
        const b = parseInt(hex.slice(5, 7), 16);
        magicCtx.fillStyle = `rgba(${r},${g},${b},${p.alpha})`;
        magicCtx.fill();
        
        return true;
      });
      
      requestAnimationFrame(animateMagic);
    }

    // Initialize
    window.addEventListener('resize', () => {
      initStars();
      initMagic();
    });

    initStars();
    animateStars();
    initMagic();
    animateMagic();

    // Fade-in animation for elements
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

  </script>

</body>
</html>
